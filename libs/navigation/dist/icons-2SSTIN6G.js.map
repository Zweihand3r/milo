{
  "version": 3,
  "sources": ["../../features/icons/icons.js"],
  "sourcesContent": ["let fetchedIcons;\nlet fetched = false;\n\nasync function getSVGsfromFile(path) {\n  /* c8 ignore next */\n  if (!path) return null;\n  const resp = await fetch(path);\n  /* c8 ignore next */\n  if (!resp.ok) return null;\n  const miloIcons = {};\n  const text = await resp.text();\n  const parser = new DOMParser();\n  const parsedText = parser.parseFromString(text, 'image/svg+xml');\n  const symbols = parsedText.querySelectorAll('symbol');\n  symbols.forEach((symbol) => {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    while (symbol.firstChild) svg.appendChild(symbol.firstChild);\n    [...symbol.attributes].forEach((attr) => svg.attributes.setNamedItem(attr.cloneNode()));\n    svg.classList.add('icon-milo', `icon-milo-${svg.id}`);\n    miloIcons[svg.id] = svg;\n  });\n  return miloIcons;\n}\n\n// eslint-disable-next-line no-async-promise-executor\nexport const fetchIcons = (config) => new Promise(async (resolve) => {\n  /* c8 ignore next */\n  if (!fetched) {\n    const { miloLibs, codeRoot } = config;\n    const base = miloLibs || codeRoot;\n    fetchedIcons = await getSVGsfromFile(`${base}/img/icons/icons.svg`);\n    fetched = true;\n  }\n  resolve(fetchedIcons);\n});\n\nfunction decorateToolTip(icon) {\n  const wrapper = icon.closest('em');\n  wrapper.className = 'tooltip-wrapper';\n  if (!wrapper) return;\n  const conf = wrapper.textContent.split('|');\n  // Text is the last part of a tooltip\n  const content = conf.pop().trim();\n  if (!content) return;\n  icon.dataset.tooltip = content;\n  // Position is the next to last part of a tooltip\n  const place = conf.pop()?.trim().toLowerCase() || 'right';\n  icon.className = `icon icon-info milo-tooltip ${place}`;\n  wrapper.parentElement.replaceChild(icon, wrapper);\n}\n\nexport default async function loadIcons(icons, config) {\n  const iconSVGs = await fetchIcons(config);\n  if (!iconSVGs) return;\n  icons.forEach(async (icon) => {\n    const { classList } = icon;\n    if (classList.contains('icon-tooltip')) decorateToolTip(icon);\n    const iconName = icon.classList[1].replace('icon-', '');\n    const existingIcon = icon.querySelector('svg');\n    if (!iconSVGs[iconName] || existingIcon) return;\n    const parent = icon.parentElement;\n    if (parent.childNodes.length > 1) {\n      if (parent.lastChild === icon) {\n        icon.classList.add('margin-inline-start');\n      } else if (parent.firstChild === icon) {\n        icon.classList.add('margin-inline-end');\n        if (parent.parentElement.tagName === 'LI') parent.parentElement.classList.add('icon-list-item');\n      } else {\n        icon.classList.add('margin-inline-start', 'margin-inline-end');\n      }\n    }\n    icon.insertAdjacentHTML('afterbegin', iconSVGs[iconName].outerHTML);\n  });\n}\n"],
  "mappings": ";;;AAAA,IAAI;AACJ,IAAI,UAAU;AAEd,eAAe,gBAAgB,MAAM;AAEnC,MAAI,CAAC,KAAM,QAAO;AAClB,QAAM,OAAO,MAAM,MAAM,IAAI;AAE7B,MAAI,CAAC,KAAK,GAAI,QAAO;AACrB,QAAM,YAAY,CAAC;AACnB,QAAM,OAAO,MAAM,KAAK,KAAK;AAC7B,QAAM,SAAS,IAAI,UAAU;AAC7B,QAAM,aAAa,OAAO,gBAAgB,MAAM,eAAe;AAC/D,QAAM,UAAU,WAAW,iBAAiB,QAAQ;AACpD,UAAQ,QAAQ,CAAC,WAAW;AAC1B,UAAM,MAAM,SAAS,gBAAgB,8BAA8B,KAAK;AACxE,WAAO,OAAO,WAAY,KAAI,YAAY,OAAO,UAAU;AAC3D,KAAC,GAAG,OAAO,UAAU,EAAE,QAAQ,CAAC,SAAS,IAAI,WAAW,aAAa,KAAK,UAAU,CAAC,CAAC;AACtF,QAAI,UAAU,IAAI,aAAa,aAAa,IAAI,EAAE,EAAE;AACpD,cAAU,IAAI,EAAE,IAAI;AAAA,EACtB,CAAC;AACD,SAAO;AACT;AAGO,IAAM,aAAa,CAAC,WAAW,IAAI,QAAQ,OAAO,YAAY;AAEnE,MAAI,CAAC,SAAS;AACZ,UAAM,EAAE,UAAU,SAAS,IAAI;AAC/B,UAAM,OAAO,YAAY;AACzB,mBAAe,MAAM,gBAAgB,GAAG,IAAI,sBAAsB;AAClE,cAAU;AAAA,EACZ;AACA,UAAQ,YAAY;AACtB,CAAC;AAED,SAAS,gBAAgB,MAAM;AAC7B,QAAM,UAAU,KAAK,QAAQ,IAAI;AACjC,UAAQ,YAAY;AACpB,MAAI,CAAC,QAAS;AACd,QAAM,OAAO,QAAQ,YAAY,MAAM,GAAG;AAE1C,QAAM,UAAU,KAAK,IAAI,EAAE,KAAK;AAChC,MAAI,CAAC,QAAS;AACd,OAAK,QAAQ,UAAU;AAEvB,QAAM,QAAQ,KAAK,IAAI,GAAG,KAAK,EAAE,YAAY,KAAK;AAClD,OAAK,YAAY,+BAA+B,KAAK;AACrD,UAAQ,cAAc,aAAa,MAAM,OAAO;AAClD;AAEA,eAAO,UAAiC,OAAO,QAAQ;AACrD,QAAM,WAAW,MAAM,WAAW,MAAM;AACxC,MAAI,CAAC,SAAU;AACf,QAAM,QAAQ,OAAO,SAAS;AAC5B,UAAM,EAAE,UAAU,IAAI;AACtB,QAAI,UAAU,SAAS,cAAc,EAAG,iBAAgB,IAAI;AAC5D,UAAM,WAAW,KAAK,UAAU,CAAC,EAAE,QAAQ,SAAS,EAAE;AACtD,UAAM,eAAe,KAAK,cAAc,KAAK;AAC7C,QAAI,CAAC,SAAS,QAAQ,KAAK,aAAc;AACzC,UAAM,SAAS,KAAK;AACpB,QAAI,OAAO,WAAW,SAAS,GAAG;AAChC,UAAI,OAAO,cAAc,MAAM;AAC7B,aAAK,UAAU,IAAI,qBAAqB;AAAA,MAC1C,WAAW,OAAO,eAAe,MAAM;AACrC,aAAK,UAAU,IAAI,mBAAmB;AACtC,YAAI,OAAO,cAAc,YAAY,KAAM,QAAO,cAAc,UAAU,IAAI,gBAAgB;AAAA,MAChG,OAAO;AACL,aAAK,UAAU,IAAI,uBAAuB,mBAAmB;AAAA,MAC/D;AAAA,IACF;AACA,SAAK,mBAAmB,cAAc,SAAS,QAAQ,EAAE,SAAS;AAAA,EACpE,CAAC;AACH;",
  "names": []
}
