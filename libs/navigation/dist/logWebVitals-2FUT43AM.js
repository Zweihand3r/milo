import"./chunk-YBWLHNHN.js";var d="pageperf",a;function u(e){if(a)return;let n=window.navigator.userAgent;Object.assign(e,{chromeVer:n.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/)?.[1]||"",country:sessionStorage.getItem("akamai")||"",downlink:window.navigator?.connection?.downlink||"",loggedIn:window.adobeIMS?.isSignedInUser()||!1,os:n.match(/Windows/)&&"win"||n.match(/Mac/)&&"mac"||n.match(/Android/)&&"android"||n.match(/Linux/)&&"linux"||"",windowHeight:window.innerHeight,windowWidth:window.innerWidth,url:`${window.location.host}${window.location.pathname}`}),e.cls||=0;let r=Object.entries(e).sort(([t],[o])=>t.localeCompare(o)).map(([t,o])=>`${t}=${o}`).join(",");window.lana.log(r,{clientId:d,sampleRate:100}),a=!0}function l(e){let n=0;new PerformanceObserver(r=>{for(let t of r.getEntries())t.hadRecentInput||(n+=t.value);e.cls=n.toPrecision(4)}).observe({type:"layout-shift",buffered:!0})}function m(e){let n=e.src||e.currentSrc||e.href||e.poster;if(n)try{let t=new URL(n);return t.origin===window.location.origin?t.pathname:t.href}catch{}let r=e.outerHTML.replaceAll(",","");return r.length<=100?r:`${e.outerHTML.substring(0,100)}...`}function f(e,n){return n.experiments?.some(({selectedVariant:r})=>{let{commands:t=[],fragments:o=[]}=r||{};return t.some(i=>{try{return new URL(i.target).pathname===e}catch{return!1}})||o.some(i=>i?.val===e)})}function w(e,n,r){new PerformanceObserver(t=>{let o=t.getEntries(),i=o[o.length-1];e.lcp=parseInt(i.startTime,10);let s=i.element;e.lcpElType=s.nodeName.toLowerCase(),e.lcpEl=m(s);let c=s.closest(".fragment");e.isFrag=c?"true":"false",c?e.isMep=f(c.dataset.path,r)?"true":"false":e.isMep="false",setTimeout(()=>{u(e)},parseInt(n,10))}).observe({type:"largest-contentful-paint",buffered:!0})}function g(e,n){n?.experiments?.forEach((r,t)=>{r.selectedVariantName!=="default"&&(e[`manifest${t+1}path`]=r.manifestPath,e[`manifest${t+1}selected`]=r.selectedVariantName)})}function h(e,{delay:n=1e3,sampleRate:r=50}={}){if(!(()=>{let s=window.navigator;return s.userAgent.includes("Chrome")&&s.vendor.includes("Google")})()||Math.random()*100>r)return;let o=()=>window.adobePrivacy?.activeCookieGroups().indexOf("C0002")!==-1;function i(){if(!o())return;let s={};g(s,e),l(s),w(s,n,e)}if(o()){i();return}window.addEventListener("adobePrivacy:PrivacyConsent",i,{once:!0}),window.addEventListener("adobePrivacy:PrivacyCustom",i,{once:!0})}export{h as default};
