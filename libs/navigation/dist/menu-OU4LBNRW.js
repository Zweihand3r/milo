import{B as T,D as b,E as L,F as q,a as d,b as C,e as A,f as w,g as r,j as h,r as M,t as v,v as S}from"./chunk-V5EBVEYY.js";import"./chunk-Y4BBGCES.js";import"./chunk-TWIEHJXN.js";import"./chunk-K6YJSUAP.js";import"./chunk-KHBABMXA.js";import"./chunk-YBWLHNHN.js";var k=(e,a)=>{if(!(e instanceof HTMLElement))return null;let t=r`<div class="feds-menu-headline">
      ${e.textContent.trim()}
    </div>`,s=()=>{v.matches?(t.setAttribute("role","heading"),t.removeAttribute("tabindex"),t.setAttribute("aria-level",2),t.removeAttribute("aria-haspopup",!0),t.removeAttribute("aria-expanded",!1),t.removeAttribute("daa-ll")):(t.setAttribute("role","button"),t.setAttribute("tabindex",0),t.removeAttribute("aria-level"),t.setAttribute("aria-haspopup",!0),t.setAttribute("aria-expanded",!1),t.setAttribute("daa-ll",h(t.textContent,a)))};return s(),v.addEventListener("change",s),t.addEventListener("click",i=>{v.matches||(b({element:t,event:i,type:"headline"}),S(t))}),e.remove(),t},H=(e,a)=>{if(!(e instanceof HTMLElement)||!e.querySelector("a"))return"";let t=e.querySelector("picture"),s=e.querySelector("a"),i=e.querySelector("p:nth-child(2)"),n=[...e.classList].filter(p=>p!=="link-group").map(p=>`feds-navLink--${p}`),l=t?r`<div class="feds-navLink-image">${t}</div>`:"",c=i?r`<div class="feds-navLink-description">${i.textContent}</div>`:"",o=s?r`<div class="feds-navLink-content">
      <div class="feds-navLink-title">${s.textContent}</div>
      ${c}
    </div>`:"",m=r`<a
    href="${s.href}"
    class="feds-navLink${n.length?` ${n.join(" ")}`:""}"
    daa-ll="${h(s.textContent,a)}">
      ${l}
      ${o}
    </a>`;return s?.target&&(m.target=s.target),m},$=({elem:e,className:a="feds-navLink",itemIndex:t={position:0}}={})=>{let s=n=>{if(t.position+=1,n.matches(".link-group"))return H(n,t.position);if(n.parentElement.tagName==="STRONG"||n.parentElement.tagName==="EM"){let l=n.parentElement.tagName==="EM"?"secondaryCta":"primaryCta";return n.parentElement.replaceWith(n),M({elem:n,type:l,index:t.position})}return n.setAttribute("daa-ll",h(n.textContent,t.position)),n.classList.add(a),n},i="a, .link-group";return e.matches(i)?s(e):(e.querySelectorAll(i).forEach(n=>{n.replaceWith(s(n))}),e)},N=(e,a)=>{let t=e.matches(".dark"),s=e.matches(".image-only"),i=e.querySelector("picture");s||[...e.querySelectorAll(":scope > div")].find(c=>!(c.querySelector("picture")instanceof HTMLElement))?.classList.add("feds-promo-content"),$({elem:e,className:"feds-promo-link",index:a});let n=()=>{let l=e.querySelector("a"),c=i.closest(`${d.gnavPromo} > div`),o;l instanceof HTMLElement?o=r`<a class="feds-promo-image" href="${l.href}">
          ${i}
        </a>`:o=r`<div class="feds-promo-image">
          ${i}
        </div>`,s?e.replaceChildren(o):c?.replaceWith(o)};return i instanceof HTMLElement&&n(),e.classList="feds-promo",t&&e.classList.add("feds-promo--dark"),r`<div class="feds-promo-wrapper">
      ${e}
    </div>`},E=async({content:e,separatorTagName:a="H5"}={})=>{let t=e.children.length>1,s=0;for await(let i of[...e.children]){await L();let n=t?"feds-menu-column":"feds-menu-content",l=t?"feds-menu-section":"feds-menu-column",c=r`<div class="${n}"></div>`,o=r`<div class="${l}"></div>`,m,p={position:0},g=()=>{o.childElementCount&&c.append(o),o=r`<div class="${l}"></div>`};for(;i.children.length;){await L();let u=i.firstElementChild;if(u.matches(d.columnBreak))g(),u.remove();else if(u.tagName===a){s+=1,g(),t||(p.position=0);let f=k(u,s);if(m=r`<div class="feds-menu-items" daa-lh="${h(f.textContent.trim())}"></div>`,o.append(f,m),i.querySelector(d.columnBreak)){c.classList.add(`${n}--group`),i.querySelectorAll(d.columnBreak).length>1&&c.classList.add(`${n}--wide`);let y=document.createElement("div");y.append(...i.childNodes),m.append(y),await E({content:m})}}else if(u.matches(d.gnavPromo)){g(),p.position=0;let f=N(u,p);o.append(f)}else{let f=$({elem:u,itemIndex:p});u.remove(),(m||o).append(f)}}c.append(o),i.replaceWith(c)}},x=e=>{let a=e.querySelector(".cross-cloud-menu");a&&($({elem:a}),a.className="feds-crossCloudMenu-wrapper",a.querySelector("div").className="feds-crossCloudMenu",a.querySelectorAll("ul li").forEach((t,s)=>{s===0&&t.querySelector("a")?.prepend(r`${C.home}`),t.className="feds-crossCloudMenu-item"}),e.append(a))},D=e=>A(async()=>{let a;if(e.type==="syncDropdownTrigger"){let t=e.item.closest("div"),s=t.querySelector("h2");t.removeChild(s),a=r`<div class="feds-popup">
        ${t}
      </div>`,await E({content:a})}if(e.type==="asyncDropdownTrigger"){let t=e.item.querySelector("a");if(!(t instanceof HTMLElement))return;let s=await q({url:t.href});if(!s)return;let i=r`<div class="feds-menu-content">${s.innerHTML}</div>`;if(a=r`<div class="feds-popup">
        <div class="feds-menu-container">
          ${i}
        </div>
      </div>`,w(a,s),x(a),await E({content:i}),T(a)instanceof HTMLElement){let n=()=>{e.template.style.width="",e.template.classList.remove(d.deferredActiveNavItem.slice(1))};v.matches&&(e.template.style.width=`${e.template.offsetWidth}px`,e.template.classList.add(d.deferredActiveNavItem.slice(1)),v.addEventListener("change",n,{once:!0}),window.addEventListener("feds:navOverflow",n,{once:!0})),e.template.classList.add(d.activeNavItem.slice(1))}e.template.classList.add("feds-navItem--megaMenu")}e.type==="footerMenu"&&await E({content:e.item,separatorTagName:"H2"}),e.template?.append(a)},"Decorate menu failed","errorType=info,module=gnav-menu"),P={decorateMenu:D,decorateLinkGroup:H};export{P as default};
