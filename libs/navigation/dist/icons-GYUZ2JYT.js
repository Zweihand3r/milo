import"./chunk-YBWLHNHN.js";var c,d=!1;async function p(s){if(!s)return null;let e=await fetch(s);if(!e.ok)return null;let n={},t=await e.text();return new DOMParser().parseFromString(t,"image/svg+xml").querySelectorAll("symbol").forEach(i=>{let a=document.createElementNS("http://www.w3.org/2000/svg","svg");for(;i.firstChild;)a.appendChild(i.firstChild);[...i.attributes].forEach(m=>a.attributes.setNamedItem(m.cloneNode())),a.classList.add("icon-milo",`icon-milo-${a.id}`),n[a.id]=a}),n}var f=s=>new Promise(async e=>{if(!d){let{miloLibs:n,codeRoot:t}=s;c=await p(`${n||t}/img/icons/icons.svg`),d=!0}e(c)});function g(s){let e=s.closest("em");if(e.className="tooltip-wrapper",!e)return;let n=e.textContent.split("|"),t=n.pop().trim();if(!t)return;s.dataset.tooltip=t;let o=n.pop()?.trim().toLowerCase()||"right";s.className=`icon icon-info milo-tooltip ${o}`,e.parentElement.replaceChild(s,e)}async function u(s,e){let n=await f(e);n&&s.forEach(async t=>{let{classList:o}=t;o.contains("icon-tooltip")&&g(t);let r=t.classList[1].replace("icon-",""),l=t.querySelector("svg");if(!n[r]||l)return;let i=t.parentElement;i.childNodes.length>1&&(i.lastChild===t?t.classList.add("margin-inline-start"):i.firstChild===t?(t.classList.add("margin-inline-end"),i.parentElement.tagName==="LI"&&i.parentElement.classList.add("icon-list-item")):t.classList.add("margin-inline-start","margin-inline-end")),t.insertAdjacentHTML("afterbegin",n[r].outerHTML)})}export{u as default,f as fetchIcons};
