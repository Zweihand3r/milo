import{c as f}from"./chunk-VP5VJMKQ.js";var A=/[^\u00C0-\u1FFF\u2C00-\uD7FF\w]+/g,h=/^_+|_+$/g;function d(t,n,e){let r=t?.replace(A," ").replace(h,"").trim();if(n){let{analyticLocalization:l,mep:c}=n,s=c?.analyticLocalization?.[r];if(s)r=s;else{let o=l?.[r];o&&(r=o)}}return e?r.slice(0,e):r}function b(t){return t?t==="off"?!1:Number.isNaN(Number(t))?20:parseInt(t,10):20}function p(t,n){if(t.classList.length&&!t.className.includes("metadata")&&!t.classList.contains("link-block")&&!t.classList.contains("section")&&t.nodeName==="DIV"){let e="",r=1,l=b(f("analytics-header-limit")),c="h1, h2, h3, h4, h5, h6",s=`${c}, .tracking-header`;t.querySelectorAll(s).length||(s=`${s}, b, strong`),t.querySelectorAll(`${s}, a:not(.video.link-block, .no-track), button:not(.no-track)`).forEach(a=>{if(a.nodeName==="A"||a.nodeName==="BUTTON"){if(a.classList.contains("tracking-header"))e=d(a.textContent,n,l);else if(!e){let i=t.closest(".section");if(i?.className.includes("-up")||i?.classList.contains("milo-card-section")){let u=i?.previousElementSibling?.querySelector(c);u&&(e=d(u.textContent,n,l))}}if(a.hasAttribute("daa-ll")){let i=a.getAttribute("daa-ll").split("-").map(u=>u===""?"":d(u,n,20));a.setAttribute("daa-ll",i.join("-"))}else{let i=a.textContent?.trim();i===""&&(i=a.getAttribute("title")||a.getAttribute("aria-label")||a.querySelector("img")?.getAttribute("alt")||"no label"),i=d(i,n,20),a.setAttribute("daa-ll",`${i}-${r}--${e}`)}r+=1}else(a.nodeName==="STRONG"||a.nodeName==="B")&&a.classList.add("tracking-header"),e=d(a.textContent,n,l)})}}async function C(t,n,e){document.querySelector("main")?.setAttribute("daa-im","true"),t.setAttribute("daa-lh",`s${n+1}`),t.querySelectorAll("[data-block] [data-block]").forEach(l=>{l.removeAttribute("data-block")});let r=e?.mep?.martech||"";t.querySelectorAll("[data-block]").forEach((l,c)=>{let s=l.getAttribute("daa-lh");if(s)l.setAttribute("daa-lh",`${s}${r}`);else{let o=l.classList[0]||"";l.setAttribute("daa-lh",`b${c+1}|${o.slice(0,15)}${r}`),p(l,e)}l.removeAttribute("data-block")})}function S(){return!1}function $(){return!1}var L=/[^0-9a-z]/gi,m=/^_+|_+$/g,y=t=>t.replaceAll("&","and").replace(L,"_").replace(m,""),g=(t,n)=>{let e=t.firstChild?.nodeName==="A"&&t.firstChild;if(!e)return;let r=e.textContent||e.getAttribute("aria-label");r&&e.setAttribute("daa-ll",`${y(r)}-${n+1}`)};export{d as a,p as b,C as c,S as d,$ as e,y as f,g};
