{
  "version": 3,
  "sources": ["../../features/links.js"],
  "sourcesContent": ["let fetched = false;\nlet linkData = null;\n\nconst fetchSeoLinks = async (path) => {\n  if (!path) return null;\n  if (!fetched) {\n    const resp = await fetch(path);\n    if (resp.ok) {\n      const json = await resp.json();\n      linkData = json.data;\n    }\n    fetched = true;\n  }\n  return linkData;\n};\n\nexport default async function init(path, area = document) {\n  const seoLinks = await fetchSeoLinks(path);\n  if (!seoLinks) return;\n  const { origin } = window.location;\n  const pageLinks = area.querySelectorAll('a:not([href^=\"/\"])');\n  [...pageLinks].forEach((link) => {\n    seoLinks\n      .filter((s) => link.href.startsWith(s.domain)\n        || (s.domain === 'off-origin' && !link.href.startsWith(origin)))\n      .forEach((s) => {\n        if (s.rel) link.setAttribute('rel', s.rel);\n        if (s.window && !link.getAttribute('target')) link.setAttribute('target', s.window);\n      });\n  });\n}\n"],
  "mappings": ";;;AAAA,IAAI,UAAU;AACd,IAAI,WAAW;AAEf,IAAM,gBAAgB,OAAO,SAAS;AACpC,MAAI,CAAC,KAAM,QAAO;AAClB,MAAI,CAAC,SAAS;AACZ,UAAM,OAAO,MAAM,MAAM,IAAI;AAC7B,QAAI,KAAK,IAAI;AACX,YAAM,OAAO,MAAM,KAAK,KAAK;AAC7B,iBAAW,KAAK;AAAA,IAClB;AACA,cAAU;AAAA,EACZ;AACA,SAAO;AACT;AAEA,eAAO,KAA4B,MAAM,OAAO,UAAU;AACxD,QAAM,WAAW,MAAM,cAAc,IAAI;AACzC,MAAI,CAAC,SAAU;AACf,QAAM,EAAE,OAAO,IAAI,OAAO;AAC1B,QAAM,YAAY,KAAK,iBAAiB,oBAAoB;AAC5D,GAAC,GAAG,SAAS,EAAE,QAAQ,CAAC,SAAS;AAC/B,aACG,OAAO,CAAC,MAAM,KAAK,KAAK,WAAW,EAAE,MAAM,KACtC,EAAE,WAAW,gBAAgB,CAAC,KAAK,KAAK,WAAW,MAAM,CAAE,EAChE,QAAQ,CAAC,MAAM;AACd,UAAI,EAAE,IAAK,MAAK,aAAa,OAAO,EAAE,GAAG;AACzC,UAAI,EAAE,UAAU,CAAC,KAAK,aAAa,QAAQ,EAAG,MAAK,aAAa,UAAU,EAAE,MAAM;AAAA,IACpF,CAAC;AAAA,EACL,CAAC;AACH;",
  "names": []
}
