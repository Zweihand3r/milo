import"./chunk-YBWLHNHN.js";var x=o=>document.cookie.split("; ").find(e=>e.startsWith(`${o}=`))?.split("=")[1],g=o=>{let e=`jsonp_${Math.round(1e5*Math.random())}`,t=document.createElement("script");t.src=`https://geo2.adobe.com/json/?callback=${e}`,window[e]=n=>{delete window[e],document.body.removeChild(t),o(n)},document.body.appendChild(t)},b=()=>new Promise(o=>{let t=new URLSearchParams(window.location.search).get("akamaiLocale")||sessionStorage.getItem("akamai");t!==null?o(t.toLowerCase()):g(n=>{let l=n.country.toLowerCase();sessionStorage.setItem("akamai",l),o(l)})});async function L(o,e,t){let n=t("fallbackrouting")||e.fallbackRouting,{contentRoot:l}=e.locale,a=window.location.href.replace(l,""),r=[],s=[];for(let[i,c]of o.entries()){let p=`${c.prefix?`/${c.prefix}`:""}${e.contentRoot??""}`,u=`${p}${a}`,h=fetch(u,{method:"HEAD"}).then(k=>{k.ok?(c.url=u,r[i]=c):n!=="off"&&(c.url=`${p}/`,r[i]=c)});s.push(h)}return s.length>0&&await Promise.all(s),r.filter(i=>!!i)}function C(o,e,t){let n=new DocumentFragment,l=t("div",{class:"text-wrapper"});return o.forEach(a=>{let r=e.locales[a.prefix]?.ietf??"",s=t("p",{class:"locale-text",lang:r},a.text);l.append(s)}),n.append(l),n}function $(o,e,t){let n=new DocumentFragment,l=t("div",{class:"link-wrapper"});return o.forEach(a=>{let r=e.locales[a.prefix]?.ietf??"",s=t("a",{class:"locale-link",lang:r,href:a.url},a.button),i=t("p",{class:"locale-link-wrapper"},s);l.append(i),s.addEventListener("click",()=>{let c=a.prefix||"us";document.cookie=`international=${c};path=/`,sessionStorage.setItem("international",c),s.closest(".dialog-modal").dispatchEvent(new Event("closeModal"))})}),n.append(l),n}function w(o){return o.akamaiCodes.split(",").map(e=>e.toLowerCase().trim())}function v(o,e){return o.reduce((t,n)=>(w(n).some(a=>a===e)&&t.push(n),t),[])}async function m(o,e,t,n,l){let a=await L(e,t,l);if(a&&a.length>0){o.url=window.location.hash?document.location.href:"#";let r=`${t.miloLibs||t.codeRoot}/img/icons/Smock_GlobeOutline_18_N.svg`,s=n("img",{src:r,class:"world-icon"}),i=C([...a,o],t,n),c=$([...a,o],t,n),d=new DocumentFragment;return d.append(s,i,c),d}return null}async function f(o){let{getModal:e}=await import("./modal-6G3H3KLH.js");return e(null,{class:"locale-modal",id:"locale-modal",content:o,closeEvent:"closeModal"})}async function E(o,e,t,n={}){let{locale:l}=o,a=l.prefix.replace("/",""),r=sessionStorage.getItem("international")||x("international"),s=r==="us"?"":r,i=n.data?.find(d=>d.prefix===a);if(!i)return;if(s||s===""){if(a.split("_")[0]!==s.split("_")[0]){let d=n.data?.filter(u=>u.prefix===s),p=await m(i,d,o,e,t);p&&await f(p)}return}let c=await b();if(c&&!w(i).includes(c)){let d=v(n.data,c),p=await m(i,d,o,e,t);p&&await f(p)}}export{E as default,x as getCookie};
