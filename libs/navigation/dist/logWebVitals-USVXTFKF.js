import"./chunk-YBWLHNHN.js";var l="pageperf",u;function m(e){if(u)return;let n=window.navigator.userAgent;Object.assign(e,{chromeVer:n.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/)?.[1]||"",country:sessionStorage.getItem("akamai")||"",downlink:window.navigator?.connection?.downlink||"",loggedIn:window.adobeIMS?.isSignedInUser()||!1,os:n.match(/Windows/)&&"win"||n.match(/Mac/)&&"mac"||n.match(/Android/)&&"android"||n.match(/Linux/)&&"linux"||"",windowHeight:window.innerHeight,windowWidth:window.innerWidth,url:`${window.location.host}${window.location.pathname}`}),e.cls||=0;let o=Object.entries(e).sort(([t],[r])=>t.localeCompare(r)).map(([t,r])=>`${t}=${r}`).join(",");window.lana.log(o,{clientId:l,sampleRate:100}),u=!0}function f(e){let n=0;new PerformanceObserver(o=>{for(let t of o.getEntries())t.hadRecentInput||(n+=t.value);e.cls=n.toPrecision(4)}).observe({type:"layout-shift",buffered:!0})}function w(e){let n=e.src||e.currentSrc||e.href||e.poster;if(n)try{let t=new URL(n);return t.origin===window.location.origin?t.pathname:t.href}catch{}let o=e.outerHTML.replaceAll(",","");return o.length<=100?o:`${e.outerHTML.substring(0,100)}...`}function g(e,n){return n.experiments?.some(({selectedVariant:o})=>{let{commands:t=[],fragments:r=[]}=o||{};return t.some(i=>{try{return new URL(i.target).pathname===e}catch{return!1}})||r.some(i=>i?.val===e)})}var d=e=>`${!!e}`;function h(e,n,o){let t=document.querySelector("main > div");new PerformanceObserver(r=>{let i=r.getEntries(),s=i[i.length-1];e.lcp=parseInt(s.startTime,10);let c=s.element;e.lcpElType=c.nodeName.toLowerCase(),e.lcpEl=w(c),e.lcpSectionOne=d(t.contains(c));let a=c.closest(".fragment");e.isFrag=d(a),a?e.isMep=d(g(a.dataset.path,o)):e.isMep="false",setTimeout(()=>{m(e)},parseInt(n,10))}).observe({type:"largest-contentful-paint",buffered:!0})}function p(e,n){n?.experiments?.forEach((o,t)=>{o.selectedVariantName!=="default"&&(e[`manifest${t+1}path`]=o.manifestPath,e[`manifest${t+1}selected`]=o.selectedVariantName)})}function v(e,{delay:n=1e3,sampleRate:o=50}={}){if(!(()=>{let s=window.navigator;return s.userAgent.includes("Chrome")&&s.vendor.includes("Google")})()||Math.random()*100>o)return;let r=()=>window.adobePrivacy?.activeCookieGroups().indexOf("C0002")!==-1;function i(){if(!r())return;let s={};p(s,e),f(s),h(s,n,e)}if(r()){i();return}window.addEventListener("adobePrivacy:PrivacyConsent",i,{once:!0}),window.addEventListener("adobePrivacy:PrivacyCustom",i,{once:!0})}export{v as default};
